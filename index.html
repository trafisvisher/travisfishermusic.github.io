<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
<title>travis fisher</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>

<style>
:root{--bg:#0f0f0f;--ink:#f3efe8;--muted:#bdb8ae}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--ink);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;overflow-x:hidden}
.view{position:absolute;inset:0;opacity:0;pointer-events:none;transition:opacity .5s ease}
.view.active{opacity:1;pointer-events:auto}

/* HOME */
.home{display:flex;align-items:center}
.home-inner{padding:24px;transition:transform .6s ease,opacity .6s ease}
.home-inner.hidden{transform:translateX(-40px);opacity:0}
.name{margin-bottom:72px;color:var(--muted)}
.menu{display:flex;flex-direction:column;gap:16px}
.menu button{background:none;border:none;color:var(--ink);font-size:1.1rem;text-align:left;cursor:pointer}

/* SECTION */
.back{position:fixed;top:20px;left:20px;background:none;border:none;color:var(--ink);font-size:1.3rem;cursor:pointer;z-index:20}
.back::before{content:"←"}
.back.disabled{pointer-events:none;opacity:0}
section{max-width:760px;padding:140px 24px 100px}

/* COMPOSITIONS */
.composition{margin-bottom:40px}
.controls{display:flex;gap:18px;margin-top:10px}
.play{background:none;border:none;cursor:pointer;color:var(--ink)}
.play svg{width:22px;height:22px}
.play .triangle{fill:none;stroke:currentColor;stroke-width:2}
.play.playing .triangle{fill:currentColor;stroke:none}
.score-btn{background:none;border:1px solid var(--muted);color:var(--ink);padding:6px 12px;cursor:pointer}

/* SCORE GALLERY */
.score-overlay{position:fixed;inset:0;background:rgba(15,15,15,.96);opacity:0;pointer-events:none;transition:opacity .4s ease;z-index:30}
.score-overlay.active{opacity:1;pointer-events:auto}
.score-close{position:absolute;top:16px;right:16px;background:none;border:none;color:var(--ink);font-size:1.4rem;cursor:pointer;z-index:40}
.score-gallery{
  position:absolute;inset:0;
  display:flex;align-items:center;justify-content:center;
  gap:32px;
  padding:72px 24px 24px;
  overflow-x:auto;scroll-snap-type:x mandatory
}

@media(min-width:900px){
  .score-gallery{align-items:flex-start}
  .score-page canvas{max-height:calc(100vh - 120px);width:auto}
}

@media(max-width:899px){
  .score-page canvas{max-width:100vw;height:auto}
}
.score-page{scroll-snap-align:center;display:flex;justify-content:center}
.score-page canvas{max-width:100vw;height:auto;touch-action:pan-x pinch-zoom}

/* ABOUT */
.about-wrap{position:absolute;inset:0;overflow:hidden}
.about-track{
  position:absolute;inset:0;display:flex;width:200%;
  transform:translateX(0);
  animation:pan 25s linear infinite
}
.about-img{width:50%;background:url('images/about-background.jpg') left center/cover no-repeat}
.about-img.mirror{transform:scaleX(-1)}
@keyframes pan{from{transform:translateX(0)}to{transform:translateX(-50%)}}
.about-content{position:relative;max-width:720px;padding:180px 24px 0}

@media(max-width:600px){.menu button{font-size:1rem}}
</style>
</head>
<body>

<!-- HOME -->
<div id="home" class="view active home">
  <div id="homeInner" class="home-inner">
    <div class="name">travis fisher</div>
    <div class="piano-mark">
      <span class="w1"></span><span class="b"></span><span class="w2"></span><span class="b"></span><span class="w3"></span><span class="w4"></span><span class="b"></span><span class="w5"></span><span class="b"></span><span class="w6"></span><span class="b"></span><span class="w7"></span>
    </div>
    <div id="menu" class="menu">
      <button onclick="openSection('compositions')">compositions</button>
      <button onclick="openSection('schedule')">schedule</button>
      <!-- COMPOSITIONS -->
<div id="compositions" class="view">
  <button id="backBtn" class="back" onclick="goHome()"></button>
  <section>
    <!-- <div class="composition" data-title="microrecia"></div> -->
    <div class="composition" data-title="hypnostadia"></div>
    <div class="composition" data-title="liminetica"></div>
    <div class="composition" data-title="nyxophonia"></div>
    <!-- <div class="composition" data-title="katharia"></div>
    <div class="composition" data-title="kyklopalma"></div>
    <div class="composition" data-title="aphasia"></div>
    <div class="composition" data-title="interstitia"></div>
    <div class="composition" data-title="antechronia"></div> -->
  </section>
</div>

<!-- ABOUT -->
<div id="about" class="view">
  <div class="about-wrap">
    <div class="about-track">
      <div class="about-img"></div>
      <div class="about-img mirror"></div>
    </div>
  </div>
  <button class="back" onclick="goHome()"></button>
  <div class="about-content">
    <p>travis grew up in the high desert of california.<br/>he studied classical piano in los angeles, jazz piano in seattle,<br/>and is based now in telluride, colorado.</p>
  </div>
</div>

<div id="schedule" class="view">
  <button class="back" onclick="goHome()"></button>
  <section>
    <p style="margin-bottom:32px">for booking inquiries contact <a href="mailto:booking@travisfisherpiano.com" style="color:var(--ink)">booking@travisfisherpiano.com</a></p>

    <div class="event">
      <strong>jan 5</strong>
      <div>jazz at mountain village &nbsp; core 12–4pm<br/>with danny d'allesandro</div>
    </div>

    <div class="event">
      <strong>jan 8</strong>
      <div>jazz at the view at mtn lodge<br/>with danny d'allesandro</div>
    </div>

    <div class="event">
      <strong>jan 15</strong>
      <div>telluride chamber music classical concert<br/>with danny desantis and steve white</div>
    </div>
  </section>
</div>
<div id="booking" class="view"><button class="back" onclick="goHome()"></button></div>

<!-- SCORE -->
<div id="scoreOverlay" class="score-overlay">
  <button class="score-close" onclick="closeScore()">×</button>
  <div id="scoreGallery" class="score-gallery"></div>
</div>

<script>
pdfjsLib.GlobalWorkerOptions.workerSrc='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
let currentAudio=null,currentBtn=null;const playState={};

function openSection(id){
  document.getElementById('homeInner').classList.add('hidden');
  setTimeout(()=>{
    document.querySelectorAll('.view').forEach(v=>v.classList.remove('active'));
    document.getElementById(id).classList.add('active');
  },500);
}

function goHome(){
  document.querySelectorAll('.view').forEach(v=>v.classList.remove('active'));
  document.getElementById('home').classList.add('active');
  document.getElementById('homeInner').classList.remove('hidden');
}

function togglePlay(btn,src,key){
  if(currentAudio&&currentBtn!==btn){playState[currentBtn.dataset.key]=currentAudio.currentTime;currentAudio.pause();currentBtn.classList.remove('playing')}
  if(!btn.classList.contains('playing')){currentAudio=new Audio(src);currentAudio.currentTime=playState[key]||0;currentAudio.play();btn.classList.add('playing');currentBtn=btn}else{playState[key]=currentAudio.currentTime;currentAudio.pause();btn.classList.remove('playing')}
}

async function buildCompositions(){document.querySelectorAll('.composition').forEach(async c=>{const t=c.dataset.title;c.innerHTML=`<div>${t}</div><div class=controls></div>`;const ctr=c.querySelector('.controls');const p=document.createElement('button');p.className='play';p.dataset.key=t;p.innerHTML=`<svg viewBox="0 0 24 24"><polygon class="triangle" points="6,4 20,12 6,20"/></svg>`;p.onclick=()=>togglePlay(p,`songs/pianoSongs/${t}.mp3`,t);ctr.appendChild(p);try{const r=await fetch(`scores/${t}.pdf`,{method:'HEAD'});if(r.ok){const s=document.createElement('button');s.className='score-btn';s.textContent='score';s.onclick=()=>openScore(t);ctr.appendChild(s)}}catch(e){}})}

async function openScore(title){document.getElementById('backBtn').classList.add('disabled');const gal=document.getElementById('scoreGallery');gal.innerHTML='';const pdf=await pdfjsLib.getDocument(`scores/${title}.pdf`).promise;for(let i=1;i<=pdf.numPages;i++){const page=await pdf.getPage(i);const vp=page.getViewport({scale:1.6});const canvas=document.createElement('canvas');canvas.width=vp.width;canvas.height=vp.height;const ctx=canvas.getContext('2d');await page.render({canvasContext:ctx,viewport:vp}).promise;const wrap=document.createElement('div');wrap.className='score-page';wrap.appendChild(canvas);gal.appendChild(wrap)}document.getElementById('scoreOverlay').classList.add('active')}
function closeScore(){document.getElementById('scoreOverlay').classList.remove('active');document.getElementById('backBtn').classList.remove('disabled')}

buildCompositions();
</script>
</body>
</html>